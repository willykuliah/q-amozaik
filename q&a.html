<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<title>Mozaik Project — Q&A Pribadi (Solo Profile)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root { --ink:#111; --soft:#666; --line:#aaa; --accent:#000; }
  * { box-sizing: border-box; }
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, sans-serif; margin:0; color:var(--ink); background:#fff; }
  header { padding:16px 20px; border-bottom:1px solid var(--line); display:flex; flex-wrap:wrap; gap:12px; align-items:center; }
  header h1 { font-size:18px; margin:0; flex:1; }
  .bar { display:flex; gap:8px; flex-wrap:wrap; }
  button, .btn {
    background:#000; color:#fff; border:1px solid #000; padding:8px 10px; border-radius:8px; font-size:14px; cursor:pointer;
  }
  button.ghost, .btn.ghost { background:#fff; color:#000; border-color:#000; }
  button.warn { background:#fff; color:#c00; border-color:#c00; }
  main { padding:18px 20px; max-width:980px; margin:0 auto; }
  .meta { display:grid; grid-template-columns: 1.2fr 1fr 1fr 1fr; gap:10px; margin-bottom:16px; }
  .field { display:flex; flex-direction:column; gap:6px; }
  label { font-weight:600; font-size:13px; }
  input[type="text"], select, textarea {
    border:1px solid var(--line); padding:10px 12px; border-radius:10px; font-size:14px; width:100%;
  }
  textarea { min-height:70px; resize:vertical; }
  .section { border:1px solid var(--line); border-radius:14px; padding:14px; margin:12px 0; }
  .section h2 { font-size:16px; margin:0 0 8px; }
  .grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
  .grid-3 { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; }
  .hint { font-size:12px; color:var(--soft); }
  .rowline { display:flex; gap:10px; }
  .pillset { display:flex; gap:8px; flex-wrap:wrap; }
  .pill {
    border:1px solid var(--line); padding:6px 10px; border-radius:999px; cursor:pointer; user-select:none; font-size:13px;
  }
  .pill.active { background:#000; color:#fff; border-color:#000; }
  footer { padding:16px 20px 40px; color:var(--soft); font-size:12px; }
  /* PRINT */
  @media print {
    header, .no-print { display:none !important; }
    main { padding:0; max-width:none; }
    .section { border-color:#000; }
    .hint { color:#000; }
    @page { size:A4; margin:12mm; }
  }
</style>
</head>
<body>
<header>
  <h1>Mozaik Project — Q&amp;A Pribadi (Solo Profile)</h1>
  <div class="bar no-print">
    <button id="saveBtn">Simpan</button>
    <button class="ghost" id="copyBtn">Copy Summary</button>
    <button class="ghost" id="printBtn">Print / PDF</button>
    <label class="btn ghost" for="importFile">Import JSON</label>
    <input id="importFile" type="file" accept="application/json" style="display:none" />
    <button class="ghost" id="exportBtn">Export JSON</button>
    <button class="warn" id="clearBtn">Hapus Data</button>
  </div>
</header>

<main>
  <div class="meta">
    <div class="field">
      <label for="name">Nama (unik, untuk menyimpan)</label>
      <input id="name" type="text" placeholder="contoh: Willy" />
      <div class="hint">Data disimpan di browser ini dengan kunci Nama.</div>
    </div>
    <div class="field">
      <label for="group">Kelompok/Tim</label>
      <input id="group" type="text" placeholder="Kelompok A / B / dll" />
    </div>
    <div class="field">
      <label for="date">Tanggal</label>
      <input id="date" type="text" placeholder="05-09-2025" />
    </div>
    <div class="field">
      <label for="contact">Kontak</label>
      <input id="contact" type="text" placeholder="No. WA / email (opsional)" />
    </div>
  </div>

  <div class="section">
    <h2>Preferensi Kerja Cepat</h2>
    <div class="grid-3">
      <div class="field">
        <label>Waktu aktif</label>
        <div class="pillset" data-name="waktu">
          <span class="pill">Pagi</span><span class="pill">Siang</span><span class="pill">Malam</span>
        </div>
      </div>
      <div class="field">
        <label>Komunikasi cepat</label>
        <div class="pillset" data-name="komunikasi">
          <span class="pill">Chat</span><span class="pill">Voice Call</span><span class="pill">Tatap muka</span>
        </div>
      </div>
      <div class="field">
        <label>Gaya kerja</label>
        <div class="pillset" data-name="gaya">
          <span class="pill">Planner</span><span class="pill">Spontan</span><span class="pill">Mix</span>
        </div>
      </div>
    </div>
    <div class="grid-3" style="margin-top:10px">
      <div class="field">
        <label>Zona fokus</label>
        <div class="pillset" data-name="zona">
          <span class="pill">Tenang</span><span class="pill">Rame</span><span class="pill">Bebas</span>
        </div>
      </div>
      <div class="field">
        <label>Prioritas eksekusi</label>
        <div class="pillset" data-name="prioritas">
          <span class="pill">Cepat selesai</span><span class="pill">Super rapi</span>
        </div>
      </div>
      <div class="field">
        <label>Update progress</label>
        <div class="pillset" data-name="update">
          <span class="pill">Harian</span><span class="pill">Mingguan</span><span class="pill">Saat milestone</span>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Buku &amp; Belajar</h2>
    <div class="grid-2">
      <div class="field">
        <label for="q_buku">Buku terakhir/terbaik yang kamu suka?</label>
        <input id="q_buku" type="text" placeholder="Judul — Penulis (opsional)" />
      </div>
      <div class="field">
        <label for="q_genre">Genre/topik favorit (baca/tonton/kajian)?</label>
        <input id="q_genre" type="text" placeholder="Sirah, produktivitas, sains, dst." />
      </div>
      <div class="field">
        <label for="q_belajar">Cara belajar paling nempel?</label>
        <input id="q_belajar" type="text" placeholder="Baca / Nonton / Diskusi / Praktik" />
      </div>
      <div class="field">
        <label for="q_referensi">Top 1 referensi yang mau kamu bagi ke tim?</label>
        <input id="q_referensi" type="text" placeholder="Link/judul singkat (opsional)" />
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Kesukaan &amp; Kebiasaan</h2>
    <div class="grid-2">
      <div class="field">
        <label for="q_santai">Kegiatan santai favorit (weekend halal-friendly)?</label>
        <input id="q_santai" type="text" placeholder="Jalan pagi, baca di taman, dst." />
      </div>
      <div class="field">
        <label for="q_cemilan">Makanan/minuman penyemangat kerja?</label>
        <input id="q_cemilan" type="text" placeholder="Teh hangat, roti, kurma, dst." />
      </div>
      <div class="field">
        <label for="q_recharge">Tempat “recharge” favorit?</label>
        <input id="q_recharge" type="text" placeholder="Rumah, masjid, taman, café" />
      </div>
      <div class="field">
        <label for="q_music">Latar musik/noise saat kerja?</label>
        <input id="q_music" type="text" placeholder="Hening / white noise / nasyid, dst." />
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Nilai &amp; Kolaborasi</h2>
    <div class="grid-2">
      <div class="field">
        <label for="q_nilai">Nilai yang paling kamu jaga</label>
        <input id="q_nilai" type="text" placeholder="Amanah / Adab / Tepat waktu / Rapi" />
      </div>
      <div class="field">
        <label for="q_bound">Boundaries: hal sederhana yang kamu minta dihormati</label>
        <input id="q_bound" type="text" placeholder="Mis. no chat > 22.00" />
      </div>
      <div class="field">
        <label for="q_peran">Ingin dikenal sebagai apa di tim?</label>
        <input id="q_peran" type="text" placeholder="Organiser / Ideator / Eksekutor / Dokumenter" />
      </div>
      <div class="field">
        <label for="q_conflict">Jika miskomunikasi, prefer:</label>
        <input id="q_conflict" type="text" placeholder="Bahas cepat / Pending / Mediator" />
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Mimpi &amp; Kontribusi</h2>
    <div class="grid-2">
      <div class="field">
        <label for="q_skill">Skill yang ingin dipelajari (30 hari ke depan)</label>
        <input id="q_skill" type="text" placeholder="Contoh: Canva, editing video, riset dalil" />
      </div>
      <div class="field">
        <label for="q_insp">Figur/inspirasi singkat</label>
        <input id="q_insp" type="text" placeholder="Ustadz/penulis/guru/tokoh" />
      </div>
      <div class="field">
        <label for="q_kontribusi">Kontribusi unik yang bisa kamu bawa ke tim</label>
        <input id="q_kontribusi" type="text" placeholder="Mis. editing, MC, riset, desain" />
      </div>
      <div class="field">
        <label for="q_target">Target mini 1 minggu ini</label>
        <input id="q_target" type="text" placeholder="Deliverable kecil, jelas, realistis" />
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Ringkas &amp; Follow-up</h2>
    <div class="grid-2">
      <div class="field">
        <label for="q_3kata">Tiga kata tentang gaya kamu (first impression kerja)</label>
        <input id="q_3kata" type="text" placeholder="Contoh: cepat, teliti, kalem" />
      </div>
      <div class="field">
        <label for="q_topik">Topik yang ingin kamu obrolin lanjut (kenapa?)</label>
        <input id="q_topik" type="text" placeholder="Contoh: time-blocking, voice-over, dst." />
      </div>
      <div class="field">
        <label for="q_channel">Boleh dihubungi via</label>
        <input id="q_channel" type="text" placeholder="Chat / VC / Tatap muka (pilih)" />
      </div>
      <div class="field">
        <label for="q_catatan">Catatan untuk buddy/fasilitator (opsional)</label>
        <input id="q_catatan" type="text" placeholder="Permintaan kecil, preferensi, dll." />
      </div>
    </div>
  </div>
</main>

<footer>
    Hanya simpan di local (tidak terkirim ke internet). untuk menyimpan, gunakan Export JSON atau Print ke PDF.  
  Saran sesi: isi dulu (6–8 menit), lalu “Show & Talk” 1-1 (3 menit/orang) pakai PDF/layar.
</footer>

<script>
(function(){
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));

  // Read name from ?name= query
  const params = new URLSearchParams(location.search);
  if (params.get('name')) $('#name').value = params.get('name');

  // Single-select pill behavior
  $$('.pillset').forEach(set => {
    set.addEventListener('click', (e) => {
      const p = e.target.closest('.pill');
      if (!p) return;
      set.querySelectorAll('.pill').forEach(x => x.classList.remove('active'));
      p.classList.add('active');
      autoSave();
    });
  });

  const fields = [
    'name','group','date','contact',
    'q_buku','q_genre','q_belajar','q_referensi',
    'q_santai','q_cemilan','q_recharge','q_music',
    'q_nilai','q_bound','q_peran','q_conflict',
    'q_skill','q_insp','q_kontribusi','q_target',
    'q_3kata','q_topik','q_channel','q_catatan'
  ];

  function key(){
    const n = $('#name').value.trim();
    return n ? `mp_qa_${n}` : null;
  }

  function getData(){
    const data = {};
    fields.forEach(id => data[id] = ($('#'+id)?.value || '').trim());
    $$('.pillset').forEach(set => {
      const name = set.dataset.name;
      const active = set.querySelector('.pill.active');
      data['pill_'+name] = active ? active.textContent.trim() : '';
    });
    return data;
  }

  function setData(data){
    fields.forEach(id => { if (data[id]!==undefined) $('#'+id).value = data[id] || ''; });
    $$('.pillset').forEach(set => {
      const name = set.dataset.name;
      const v = data['pill_'+name] || '';
      set.querySelectorAll('.pill').forEach(p => {
        p.classList.toggle('active', p.textContent.trim()===v);
      });
    });
  }

  function save(){
    const k = key();
    if (!k) { alert('Isi Nama dulu supaya bisa menyimpan.'); return; }
    localStorage.setItem(k, JSON.stringify(getData()));
    alert('Tersimpan di browser (berdasarkan Nama).');
  }

  function loadIfAny(){
    const k = key();
    if (!k) return;
    const raw = localStorage.getItem(k);
    if (raw){
      try { setData(JSON.parse(raw)); } catch(e){}
    }
  }

  function autoSave(){
    const k = key();
    if (!k) return;
    localStorage.setItem(k, JSON.stringify(getData()));
  }

  // auto-save on input
  fields.forEach(id => {
    const el = $('#'+id);
    el && el.addEventListener('input', autoSave);
  });

  // buttons
  $('#saveBtn').addEventListener('click', save);
  $('#printBtn').addEventListener('click', () => window.print());

  $('#clearBtn').addEventListener('click', () => {
    if (!confirm('Hapus semua isian di halaman ini?')) return;
    setData({});
    const k = key();
    if (k) localStorage.removeItem(k);
  });

  $('#exportBtn').addEventListener('click', () => {
    const k = key();
    if (!k) { alert('Isi Nama dulu.'); return; }
    const blob = new Blob([JSON.stringify(getData(), null, 2)], {type:'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `${k}.json`;
    a.click();
    URL.revokeObjectURL(a.href);
  });

  $('#importFile').addEventListener('change', (e) => {
    const f = e.target.files[0];
    if (!f) return;
    const reader = new FileReader();
    reader.onload = () => {
      try {
        const data = JSON.parse(reader.result);
        setData(data);
        autoSave();
        alert('Import berhasil.');
      } catch(e){ alert('File tidak valid.'); }
    };
    reader.readAsText(f);
  });

  $('#copyBtn').addEventListener('click', () => {
    const d = getData();
    const lines = [
      `Nama: ${d.name}`,
      `Kelompok: ${d.group} | Tanggal: ${d.date}`,
      `Kontak: ${d.contact}`,
      ``,
      `— Preferensi —`,
      `Waktu: ${d.pill_waktu || '-'}, Komunikasi: ${d.pill_komunikasi || '-'}, Gaya: ${d.pill_gaya || '-'}`,
      `Zona: ${d.pill_zona || '-'}, Prioritas: ${d.pill_prioritas || '-'}, Update: ${d.pill_update || '-'}`,
      ``,
      `— Buku & Belajar —`,
      `Buku: ${d.q_buku || '-'}`,
      `Genre/Kajian: ${d.q_genre || '-'}`,
      `Cara belajar: ${d.q_belajar || '-'}`,
      `Referensi: ${d.q_referensi || '-'}`,
      ``,
      `— Kesukaan & Kebiasaan —`,
      `Santai: ${d.q_santai || '-'}, Cemilan: ${d.q_cemilan || '-'}`,
      `Recharge: ${d.q_recharge || '-'}, Musik/Noise: ${d.q_music || '-'}`,
      ``,
      `— Nilai & Kolaborasi —`,
      `Nilai utama: ${d.q_nilai || '-'}`,
      `Boundaries: ${d.q_bound || '-'}`,
      `Peran di tim: ${d.q_peran || '-'}`,
      `Jika miskom: ${d.q_conflict || '-'}`,
      ``,
      `— Mimpi & Kontribusi —`,
      `Belajar 30 hari: ${d.q_skill || '-'}`,
      `Inspirasi: ${d.q_insp || '-'}`,
      `Kontribusi unik: ${d.q_kontribusi || '-'}`,
      `Target 1 minggu: ${d.q_target || '-'}`,
      ``,
      `— Ringkas —`,
      `Tiga kata: ${d.q_3kata || '-'}`,
      `Topik lanjut: ${d.q_topik || '-'}`,
      `Boleh dihubungi via: ${d.q_channel || '-'}`,
      `Catatan: ${d.q_catatan || '-'}`,
    ].join('\n');
    navigator.clipboard.writeText(lines).then(() => {
      alert('Summary sudah dicopy. Tempel di WA/Notion/Docs.');
    }, () => {
      prompt('Copy manual:', lines);
    });
  });

  // Load on start if name present
  if ($('#name').value.trim()) loadIfAny();

  // Autofill date today if empty
  if (!$('#date').value.trim()) {
    const dt = new Date();
    const pad = n => (''+n).padStart(2,'0');
    $('#date').value = `${pad(dt.getDate())}-${pad(dt.getMonth()+1)}-${dt.getFullYear()}`;
  }
})();
</script>
</body>
</html>
